<div ng-controller="SearchController" ng-init="init()">
    <div id="searchSection">
        <h3>Search Criteria</h3>

        <div ng-show="errorMesssage" class="alert alert-danger" role="alert">
            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
            <span class="sr-only">Error:</span>
            {{errorMesssage}}
        </div>

        <form name="searchForm" class="form-horizontal" ng-submit="search(criteria)" novalidate>
            <div class="form-group">
                <div class="col-md-2">
                    <label>Search By: </label>
                </div>
                <div class="col-md-4">
                    <select class="form-control" ng-model="criteria.method" ng-options="n for n in searchMethods"></select>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-2">
                    <label>Value: </label>
                </div>
                <div class="col-md-4">
                    <input name="number" type="text" class="form-control" ng-model="criteria.number" required />
                    <div class="has-error" ng-show="searchForm.number.$touched && searchForm.number.$invalid">
                        <span class="control-label">This field is required.</span>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-2">
                    <label>Filter Type: </label>
                </div>
                <div class="col-md-4">
                    <div ng-repeat="filterType in filterTypes">
                        <input type="checkbox" ng-model="filterType.isSelected" />
                        <span>{{filterType.name}}</span>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-offset-4 col-md-2">
                    <button ng-disabled="(searchForm.$invalid || isSearching)"
                            class="btn btn-primary form-control" type="submit">
                        <span ng-show="isSearching">
                            <i class="glyphicon glyphicon-refresh spinning" />
                        </span>
                        Search
                    </button>
                </div>
            </div>
        </form>
    </div>
    <div id="resultSection" ng-show="result" class="table-responsive">
        <table class="table table-condensed">
            <thead>
                <tr>
                    <th>Bnd Iban</th>
                    <th>Account Holder Name</th>
                    <th>Source Iban</th>
                    <th>Transaction Date</th>
                    <th>Transaction Id</th>
                    <th>Transaction Type</th>
                </tr>
            </thead>
            <tbody ng-repeat="item in result">
                <tr>
                    <td>{{item.BndIban}}</td>
                    <td>{{item.SourceAccountHolderName}}</td>
                    <td>{{item.SourceIban}}</td>
                    <td>{{item.TransactionDate | date: 'dd-MM-yyyy'}}</td>
                    <td>{{item.TransactionId}}</td>
                    <td>{{item.TransactionType}}</td>
                </tr>
                <tr ng-show="item.warning">
                    <td colspan="3" style="text-align: center">Warning !!!</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>